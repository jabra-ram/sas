<div class="container">
  <%= link_to "Add Payment", new_payment_path, class:"btn btn-info"%>
  <h1 class="text-center"> Payments </h1>
  <table class="table table-hover container">
    <thead>
      <tr>
        <th scope="col">S.No.</th>
        <th scope="col">Student Name</th>
        <th scope="col">Email</th>
        <th scope="col">Class</th>
        <th scope="col">Academic Year</th>
        <th scope="col">Address</th>
        <th scope="col">Contact</th>
        <th scope="col">Mode of Payment</th>
        <th scope="col">Amount</th>
        <th scope="col">Status</th>
        <th scope="col">Notes/Remarks</th>
      </tr>
    </thead>
    <tbody>
      <% @payments.each_with_index do |p, index| %>
        <tr>
          <td><%= index+1 %></td>
          <td><%= p.student_name %></td>
          <td><%= p.email %></td>
          <td><%= p.classname %></td>
          <td><%= p.academic_year %></td>
          <td><%= p.address %></td>
          <td><%= p.contact_number %></td>
          <td><%= p.mode_of_payment %></td>
          <td><%= p.amount %></td>
          <td><%= p.status %></td>
          <td><%= p.notes %></td>
          <td>
            <%= form_with model: @payment, url: payment_path(p), method: :delete, data: {confirm: "Are you sure?"} do |f| %>
              <%= f.submit "Delete", class:"btn, btn-danger" %>
            <% end %>
            <td>
              <%= link_to "Generate invoice", generate_invoice_path(p) %>
            </td>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
